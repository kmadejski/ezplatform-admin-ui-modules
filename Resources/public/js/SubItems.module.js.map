{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap c526eb9ef8c05c4dda8c","webpack:///external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack:///external {\"root\":\"PropTypes\",\"commonjs2\":\"prop-types\",\"commonjs\":\"prop-types\",\"amd\":\"prop-types\"}","webpack:///./src/modules/common/icon/icon.js","webpack:///./src/modules/common/helpers/request.helper.js","webpack:///./src/modules/common/helpers/deep.clone.helper.js","webpack:///./src/modules/sub-items/sub.items.module.js","webpack:///external {\"root\":\"ReactDOM\",\"commonjs2\":\"react-dom\",\"commonjs\":\"react-dom\",\"amd\":\"react-dom\"}","webpack:///./src/modules/sub-items/components/view-switcher/view.switcher.component.js","webpack:///./src/modules/sub-items/components/view-switcher/view.switcher.button.component.js","webpack:///./src/modules/sub-items/components/sub-items-list/sub.items.list.component.js","webpack:///./src/modules/sub-items/components/table-view/table.view.component.js","webpack:///./src/modules/sub-items/components/table-view/table.view.item.component.js","webpack:///./src/modules/sub-items/components/grid-view/grid.view.component.js","webpack:///./src/modules/sub-items/components/grid-view/grid.view.item.component.js","webpack:///./src/modules/common/popup/popup.component.js","webpack:///external {\"root\":\"jQuery\",\"commonjs2\":\"jquery\",\"commonjs\":\"jquery\",\"amd\":\"jquery\"}","webpack:///./src/modules/sub-items/components/action-btn/action.btn.js","webpack:///./src/modules/sub-items/components/pagination/pagination.component.js","webpack:///./src/modules/sub-items/components/pagination/pagination.button.component.js","webpack:///./src/modules/sub-items/components/no-items/no.items.component.js","webpack:///./src/modules/sub-items/services/sub.items.service.js","webpack:///./src/modules/sub-items/services/bulk.service.js"],"names":["root","factory","exports","module","require","define","amd","self","this","__WEBPACK_EXTERNAL_MODULE_0__","__WEBPACK_EXTERNAL_MODULE_1__","__WEBPACK_EXTERNAL_MODULE_14__","__WEBPACK_EXTERNAL_MODULE_23__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","Icon","props","linkHref","customPath","className","extraClasses","_react2","default","createElement","xlinkHref","propTypes","PropTypes","string","isRequired","defaultProps","getBasicRequestInit","token","siteaccess","headers","X-Siteaccess","X-CSRF-Token","mode","credentials","handleRequestError","response","ok","Error","statusText","handleRequestResponse","json","handleRequestResponseStatus","status","deepClone","data","clonedData","toString","apply","length","_react","_subItems","_bulkService","ASCENDING_SORT_ORDER","DESCENDING_SORT_ORDER","DEFAULT_SORT_ORDER","SubItemsModule","Component","constructor","super","afterPriorityUpdated","bind","loadContentItems","loadContentTypes","updateItemsState","switchView","handleItemPriorityUpdate","toggleItemSelection","toggleAllPageItemsSelection","onMoveBtnClick","closeUdw","onUdwConfirm","onDeleteBtnClick","closeBulkDeletePopup","onBulkDeletePopupConfirm","afterBulkDelete","changePage","changeSorting","_refListViewWrapper","React","createRef","bulkDeleteModalContainer","udwContainer","sortClauseData","getDefaultSortClause","sortClauses","state","activeView","activePageItems","items","selectedItems","Map","contentTypesMap","totalCount","offset","isDuringBulkOperation","isUdwOpened","isBulkDeletePopupVisible","activePageIndex","listViewHeight","sortClause","sortOrder","order","componentDidMount","document","getElementById","classList","add","body","appendChild","componentDidUpdate","_state","itemsPerPage","limit","pagesCount","Math","ceil","setState","loadPage","componentWillUnmount","removeChild","objKeys","keys","updateListViewHeight","current","offsetHeight","pageIndex","loadLocation","then","catch","errorMessage","Translator","trans","window","eZ","helpers","notification","showErrorNotification","_props","restInfo","locationId","parentLocationId","_state2","queryConfig","[object Object]","Promise","resolve","_props2","loadContentInfo","View","invalidResponseFormatMessage","locations","Result","searchHits","searchHit","contentIds","map","item","value","Location","ContentInfo","Content","_id","contentInfo","count","contentItems","itemsData","promises","content","contentTypeId","ContentType","_href","loadContentType","all","contentTypes","pageItems","location","itemLocation","respectiveContent","find","buildContentTypesMap","reduce","total","updateTotalCountState","discardActivePageItems","getSortOrder","newSortClause","currentSortOrder","getOppositeSortOrder","updateLocationPriority","_extends","updateItemLocation","itemIndex","findIndex","id","updatedItem","_deepCloneHelper2","updatedPageItems","isSelected","updatedSelectedItems","set","delete","select","selectItems","locationsIds","locationsIdsSet","Set","deselectItems","itemsToSelect","newSelectedItems","newSelection","filter","has","deselectAllItems","toggleBulkOperationStatusState","toggleUdw","bulkMove","locationsToMove","values","bulkMoveLocations","afterBulkMove","movedLocations","notMovedLocations","modalTableTitle","itemsCount","notificationMessage","notMovedCount","handleBulkOperationFailedNotification","message","locationName","Name","locationHref","generateLink","showSuccessNotification","show","selectedLocation","renderUdw","UniversalDiscovery","_props3","udwConfigBulkMoveItems","excludedMoveLocations","title","udwProps","onCancel","onConfirm","canSelectContent","callback","includes","ReactDOM","createPortal","toggleBulkDeletePopup","bulkDelete","locationsToDelete","bulkMoveLocationsToTrash","deletedLocations","notDeletedLocations","notDeletedCount","failedLocations","failedItemsData","contentTypeIdentifier","identifier","contentTypeName","adminUiConfig","contentTypeNames","contentName","showWarningNotification","notificationNode","showModalBtn","querySelector","addEventListener","showBulkActionFailedModal","renderConfirmationPopupFooter","cancelLabel","confirmLabel","Fragment","onClick","type","data-dismiss","renderConfirmationPopup","confirmationMessage","_popup2","onClose","isVisible","isLoading","size","footerChildren","noHeader","getPageSelectedLocationsIds","_state3","selectedLocationsIds","pageLocationsIds","renderExtraActions","action","index","Action","component","key","attrs","renderPaginationInfo","_state4","viewingCount","dangerouslySetInnerHTML","__html","renderPagination","_state5","isPaginationDisabled","_paginationComponent2","proximity","onPageChange","disabled","renderBulkMoveBtn","label","_actionBtn2","renderBulkDeleteBtn","renderSpinner","style","height","_icon2","renderNoItems","_noItemsComponent2","renderListView","_state6","selectedPageLocationsIds","_subItemsListComponent2","languages","handleEditItem","onItemSelect","toggleAllItemsSelect","onSortChange","render","listTitle","_state7","bulkBtnDisabled","listClassName","extraActions","_viewSwitcherComponent2","onViewChange","isDisabled","ref","number","shape","func","arrayOf","parseInt","subItems","ViewSwitcherComponent","componentClassName","listViewBtnLabel","gridViewBtnLabel","_viewSwitcherButton2","icon","bool","ViewSwitcherButton","tabIndex","iconAttrs","views","table","TableViewComponent","grid","GridViewComponent","SubItemsListComponent","instanceOf","KEY_CONTENT_NAME","KEY_DATE_MODIFIED","KEY_LOCATION_PRIORITY","SORTKEY_MAP","sortByName","sortByDate","sortByPriority","renderItem","selectAll","toggleColumnsToggler","handleColumnsTogglerClose","_refColumnsTogglerButton","headerLabelsMap","modified","contentType","priority","translations","isColumnsTogglerOpen","columnsVisibility","removeEventListener","target","isClickInsideColumnsToggler","closest","isClickOnColumnsTogglerBtn","event","checked","toggleColumnVisibility","column","_tableViewItem2","onItemPriorityUpdate","renderColumnsToggler","columnKey","isColumnVisible","renderHead","cellClass","cellHeadClass","cellSortClass","headClass","anyLocationSelected","onChange","TableViewItemComponent","PureComponent","storePriorityValue","enablePriorityInput","handleSubmit","handleCancel","handleEdit","onSelectCheckboxChange","setPriorityInputRef","_refPriorityInput","priorityValue","priorityInputEnabled","startingPriorityValue","preventDefault","renderPriorityCell","inputAttrs","defaultValue","priorityWrapperAttrs","innerWrapperAttrs","hidden","renderTranslation","translation","isLastItem","notAvailableLabel","editLabel","formatShortDateWithTimezone","timezone","linkAttrs","href","CurrentVersion","Version","VersionInfo","VersionTranslationInfo","Language","langauge","mappings","languageCode","contentTypeIconUrl","getContentTypeIconUrl","Date","lastModificationDate","_gridViewItem2","GridViewItemComponent","imageField","Fields","field","fieldTypeIdentifier","hasImage","fieldValue","uri","path","image","contentTypeIcon","src","alt","CLASS_NON_SCROLLABLE","CLASS_MODAL_OPEN","MODAL_CONFIG","backdrop","keyboard","MODAL_SIZE_CLASS","small","medium","large","Popup","_refModal","setModalRef","onKeyUp","_jquery2","modal","focus","hasFocus","attachModalEventHandlers","remove","UNSAFE_componentWillReceiveProps","onConfigIframeLoad","on","one","originalEvent","which","keyCode","renderHeader","closeBtnLabel","renderHeadline","aria-label","renderSubtitle","subtitle","renderFooter","additionalClasses","modalAttrs","undefined","toggle","role","children","element","ActionButton","PaginationComponent","paginationDisabled","backLabel","nextLabel","previousPage","nextPage","isFirstPage","isLastPage","paginationButtons","pages","wereDots","push","computePages","page","_paginationButton2","PaginationButtonComponent","Number","isInteger","noItemsMessage","_requestHelper","HEADERS_CREATE_VIEW","Accept","Content-Type","JSON","stringify","ViewInput","public","LocationQuery","Criteria","FacetBuilders","SortClauses","Filter","ParentLocationIdCriterion","request","Request","method","fetch","ids","join","ContentQuery","ContentIdCriterion","X-HTTP-Method-Override","LocationUpdate","sortField","HEADERS_BULK","newLocationHref","requestBodyOperations","getBulkMoveRequestOperations","makeBulkRequest","processBulkResponse","destination","operations","forEach","Destination","successCode","BulkOperationResponse","locationsMatches","entries","respectiveItem","statusCode","success","fail","bulkOperations"],"mappings":"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","file":"SubItems.module.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"prop-types\"), require(\"react-dom\"), require(\"jquery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"prop-types\", \"react-dom\", \"jquery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SubItems\"] = factory(require(\"react\"), require(\"prop-types\"), require(\"react-dom\"), require(\"jquery\"));\n\telse\n\t\troot[\"eZ\"] = root[\"eZ\"] || {}, root[\"eZ\"][\"modules\"] = root[\"eZ\"][\"modules\"] || {}, root[\"eZ\"][\"modules\"][\"SubItems\"] = factory(root[\"React\"], root[\"PropTypes\"], root[\"ReactDOM\"], root[\"jQuery\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_14__, __WEBPACK_EXTERNAL_MODULE_23__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 13);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c526eb9ef8c05c4dda8c","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}\n// module id = 0\n// module chunks = 0 1 2 3","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"PropTypes\",\"commonjs2\":\"prop-types\",\"commonjs\":\"prop-types\",\"amd\":\"prop-types\"}\n// module id = 1\n// module chunks = 0 1 2 3","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Icon = (props) => {\n    const linkHref = props.customPath ? props.customPath : `/bundles/ezplatformadminui/img/ez-icons.svg#${props.name}`;\n    let className = 'ez-icon';\n\n    if (props.extraClasses) {\n        className = `${className} ${props.extraClasses}`;\n    }\n\n    return (\n        <svg className={className}>\n            <use xlinkHref={linkHref} />\n        </svg>\n    );\n};\n\nIcon.propTypes = {\n    extraClasses: PropTypes.string.isRequired,\n    name: PropTypes.string,\n    customPath: PropTypes.string,\n};\n\nIcon.defaultProps = {\n    customPath: null,\n    name: null,\n};\n\nexport default Icon;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/common/icon/icon.js","/**\n * Returns basic RequestInit object for Request\n *\n * @function getBasicRequestInit\n * @param {Object} restInfo REST config hash containing: token and siteaccess properties\n * @returns {RequestInit}\n */\nexport const getBasicRequestInit = ({ token, siteaccess }) => {\n    return {\n        headers: {\n            'X-Siteaccess': siteaccess,\n            'X-CSRF-Token': token,\n        },\n        mode: 'same-origin',\n        credentials: 'same-origin',\n    };\n};\n\n/**\n * Handles request error\n *\n * @function handleRequestResponse\n * @param {Response} response\n * @returns {Response}\n */\nexport const handleRequestError = (response) => {\n    if (!response.ok) {\n        throw Error(response.statusText);\n    }\n\n    return response;\n};\n\n/**\n * Handles request response\n *\n * @function handleRequestResponse\n * @param {Response} response\n * @returns {Error|Promise}\n */\nexport const handleRequestResponse = (response) => {\n    return handleRequestError(response).json();\n};\n\n/**\n * Handles request response; returns status if response is OK\n *\n * @function handleRequestResponseStatus\n * @param {Response} response\n * @returns {number}\n */\nexport const handleRequestResponseStatus = (response) => {\n    return handleRequestError(response).status;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/common/helpers/request.helper.js","/**\n * Clones any object. Faster alternative to `JSON.parse(JSON.stringify)`\n *\n * @function deepClone\n * @param {Any} data\n * @returns {Any} cloned data\n */\nconst deepClone = (data) => {\n    let clonedData;\n\n    if (typeof data !== 'object') {\n        return data;\n    }\n\n    if (!data) {\n        return data;\n    }\n\n    if (Object.prototype.toString.apply(data) === '[object Array]') {\n        clonedData = [];\n\n        for (let i = 0; i < data.length; i++) {\n            clonedData[i] = deepClone(data[i]);\n        }\n\n        return clonedData;\n    }\n\n    clonedData = {};\n\n    for (let i in data) {\n        if (data.hasOwnProperty(i)) {\n            clonedData[i] = deepClone(data[i]);\n        }\n    }\n\n    return clonedData;\n};\n\nexport default deepClone;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/common/helpers/deep.clone.helper.js","import React, { Component, Fragment } from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nimport ViewSwitcherComponent from './components/view-switcher/view.switcher.component.js';\nimport SubItemsListComponent from './components/sub-items-list/sub.items.list.component.js';\nimport Popup from '../common/popup/popup.component';\nimport ActionButton from './components/action-btn/action.btn.js';\nimport PaginationComponent from './components/pagination/pagination.component.js';\nimport NoItemsComponent from './components/no-items/no.items.component.js';\nimport Icon from '../common/icon/icon.js';\n\nimport deepClone from '../common/helpers/deep.clone.helper.js';\nimport { updateLocationPriority, loadLocation, loadContentInfo, loadContentType, loadContentTypes } from './services/sub.items.service';\nimport { bulkMoveLocations, bulkMoveLocationsToTrash } from './services/bulk.service.js';\n\nconst ASCENDING_SORT_ORDER = 'ascending';\nconst DESCENDING_SORT_ORDER = 'descending';\nconst DEFAULT_SORT_ORDER = ASCENDING_SORT_ORDER;\n\nexport default class SubItemsModule extends Component {\n    constructor(props) {\n        super(props);\n\n        this.afterPriorityUpdated = this.afterPriorityUpdated.bind(this);\n        this.loadContentItems = this.loadContentItems.bind(this);\n        this.loadContentTypes = this.loadContentTypes.bind(this);\n        this.updateItemsState = this.updateItemsState.bind(this);\n        this.switchView = this.switchView.bind(this);\n        this.handleItemPriorityUpdate = this.handleItemPriorityUpdate.bind(this);\n        this.toggleItemSelection = this.toggleItemSelection.bind(this);\n        this.toggleAllPageItemsSelection = this.toggleAllPageItemsSelection.bind(this);\n        this.onMoveBtnClick = this.onMoveBtnClick.bind(this);\n        this.closeUdw = this.closeUdw.bind(this);\n        this.onUdwConfirm = this.onUdwConfirm.bind(this);\n        this.onDeleteBtnClick = this.onDeleteBtnClick.bind(this);\n        this.closeBulkDeletePopup = this.closeBulkDeletePopup.bind(this);\n        this.onBulkDeletePopupConfirm = this.onBulkDeletePopupConfirm.bind(this);\n        this.afterBulkDelete = this.afterBulkDelete.bind(this);\n        this.changePage = this.changePage.bind(this);\n        this.changeSorting = this.changeSorting.bind(this);\n\n        this._refListViewWrapper = React.createRef();\n        this.bulkDeleteModalContainer = null;\n        this.udwContainer = null;\n\n        const sortClauseData = this.getDefaultSortClause(props.sortClauses);\n\n        this.state = {\n            activeView: props.activeView,\n            activePageItems: props.items,\n            selectedItems: new Map(),\n            contentTypesMap: props.contentTypesMap,\n            totalCount: props.totalCount,\n            offset: props.offset,\n            isDuringBulkOperation: false,\n            isUdwOpened: false,\n            isBulkDeletePopupVisible: false,\n            activePageIndex: 0,\n            listViewHeight: null,\n            sortClause: sortClauseData.name,\n            sortOrder: sortClauseData.order,\n        };\n    }\n\n    componentDidMount() {\n        this.udwContainer = document.getElementById('react-udw');\n        this.bulkDeleteModalContainer = document.createElement('div');\n        this.bulkDeleteModalContainer.classList.add('m-sub-items__bulk-delete-modal-container');\n        document.body.appendChild(this.bulkDeleteModalContainer);\n    }\n\n    componentDidUpdate() {\n        const { activePageIndex, activePageItems, totalCount } = this.state;\n        const { limit: itemsPerPage } = this.props;\n        const pagesCount = Math.ceil(totalCount / itemsPerPage);\n        const pageDoesNotExist = activePageIndex > pagesCount - 1 && activePageIndex !== 0;\n\n        if (pageDoesNotExist) {\n            this.setState({\n                activePageIndex: pagesCount - 1,\n            });\n\n            return;\n        }\n\n        const shouldLoadPage = !activePageItems;\n\n        if (shouldLoadPage) {\n            this.loadPage(activePageIndex);\n        }\n    }\n\n    componentWillUnmount() {\n        document.body.removeChild(this.bulkDeleteModalContainer);\n    }\n\n    getDefaultSortClause(sortClauses) {\n        const objKeys = Object.keys(sortClauses);\n\n        if (!objKeys.length) {\n            return { name: null, order: null };\n        }\n\n        const name = objKeys[0];\n        const order = sortClauses[name];\n\n        return { name, order };\n    }\n\n    updateListViewHeight() {\n        this.setState(() => ({\n            listViewHeight: this._refListViewWrapper.current.offsetHeight,\n        }));\n    }\n\n    /**\n     * Loads items into the list\n     *\n     * @method loadPage\n     * @memberof SubItemsModule\n     */\n    loadPage(pageIndex) {\n        this.loadLocation(pageIndex)\n            .then(this.loadContentItems)\n            .then(this.loadContentTypes)\n            .then(this.updateItemsState)\n            .catch(() => {\n                const errorMessage = Translator.trans(\n                    /*@Desc(\"An error occurred while loading items in the Sub Items module\")*/ 'page.loading_error.message',\n                    {},\n                    'sub_items'\n                );\n\n                window.eZ.helpers.notification.showErrorNotification(errorMessage);\n            });\n    }\n\n    /**\n     * Loads location data\n     *\n     * @param {Number} pageIndex\n     * @method loadLocation\n     * @returns {Promise}\n     * @memberof SubItemsModule\n     */\n    loadLocation(pageIndex) {\n        const { limit: itemsPerPage, loadLocation, restInfo, parentLocationId: locationId } = this.props;\n        const { sortClause, sortOrder } = this.state;\n        const offset = pageIndex * itemsPerPage;\n        const sortClauses = {\n            [sortClause]: sortOrder,\n        };\n        const queryConfig = { locationId, limit: itemsPerPage, sortClauses, offset };\n\n        return new Promise((resolve) => loadLocation(restInfo, queryConfig, resolve));\n    }\n\n    /**\n     * Loads content items from location\n     *\n     * @method loadContentItems\n     * @param {Object} response query results\n     * @returns {Promise}\n     * @memberof SubItemsModule\n     */\n    loadContentItems(response) {\n        const { loadContentInfo, restInfo } = this.props;\n\n        if (!response || !response.View) {\n            const invalidResponseFormatMessage = Translator.trans(\n                /*@Desc(\"Invalid response format\")*/ 'load_content_items.invalid_response_format.error.message',\n                {},\n                'sub_items'\n            );\n\n            throw new Error(invalidResponseFormatMessage);\n        }\n\n        const locations = response.View.Result.searchHits.searchHit;\n\n        return new Promise((resolve) => {\n            const contentIds = locations.map((item) => item.value.Location.ContentInfo.Content._id);\n\n            loadContentInfo(restInfo, contentIds, (contentInfo) => {\n                const totalCount = response.View.Result.count;\n\n                resolve({\n                    locations,\n                    totalCount,\n                    contentItems: contentInfo.View.Result.searchHits.searchHit.map((searchHit) => searchHit.value.Content),\n                });\n            });\n        });\n    }\n\n    /**\n     * Loads content types info\n     *\n     * @method loadContentTypes\n     * @param {Object} itemsData\n     * @returns {Promise}\n     * @memberof SubItemsModule\n     */\n    loadContentTypes(itemsData) {\n        const promises = itemsData.contentItems.map(\n            (content) =>\n                new Promise((resolve) => {\n                    const contentTypeId = content.ContentType._href;\n\n                    if (!this.state.contentTypesMap[contentTypeId]) {\n                        this.props.loadContentType(contentTypeId, this.props.restInfo, (response) => resolve(response));\n                    } else {\n                        resolve({ ContentType: this.state.contentTypesMap[contentTypeId] });\n                    }\n                })\n        );\n\n        return Promise.all(promises).then((contentTypes) => {\n            itemsData.contentTypes = contentTypes;\n\n            return itemsData;\n        });\n    }\n\n    /**\n     * Updates module state by updating items list\n     *\n     * @method updateItemsState\n     * @param {Object} responses\n     * @memberof SubItemsModule\n     */\n    updateItemsState({ locations, contentItems, totalCount, contentTypes }) {\n        const pageItems = locations.map((location) => {\n            const itemLocation = location.value.Location;\n            const respectiveContent = contentItems.find((content) => content._id === itemLocation.ContentInfo.Content._id);\n\n            return {\n                location: itemLocation,\n                content: respectiveContent,\n            };\n        });\n\n        this.setState((state) => ({\n            activePageItems: pageItems,\n            totalCount,\n            contentTypesMap: {\n                ...state.contentTypesMap,\n                ...this.buildContentTypesMap(contentTypes),\n            },\n        }));\n    }\n\n    /**\n     * Builds content types map\n     *\n     * @method buildContentTypesMap\n     * @param {Array} contentTypes\n     * @returns {Object}\n     * @memberof SubItemsModule\n     */\n    buildContentTypesMap(contentTypes) {\n        if (!contentTypes) {\n            return {};\n        }\n\n        return contentTypes.reduce((total, item) => {\n            total[item.ContentType._href] = item.ContentType;\n\n            return total;\n        }, {});\n    }\n\n    updateTotalCountState(totalCount) {\n        this.setState(() => ({\n            totalCount,\n        }));\n    }\n\n    discardActivePageItems() {\n        this.updateListViewHeight();\n        this.setState(() => ({\n            activePageItems: null,\n        }));\n    }\n\n    changeSorting(sortClause) {\n        this.updateListViewHeight();\n        this.setState((state) => ({\n            sortClause,\n            sortOrder: this.getSortOrder(state.sortClause, sortClause, state.sortOrder),\n            activePageItems: null,\n        }));\n    }\n\n    getSortOrder(sortClause, newSortClause, currentSortOrder) {\n        return newSortClause === sortClause ? this.getOppositeSortOrder(currentSortOrder) : DEFAULT_SORT_ORDER;\n    }\n\n    getOppositeSortOrder(sortOrder) {\n        return sortOrder === ASCENDING_SORT_ORDER ? DESCENDING_SORT_ORDER : ASCENDING_SORT_ORDER;\n    }\n\n    /**\n     * Updates item priority\n     *\n     * @method handleItemPriorityUpdate\n     * @param {Object} data data hash containing: priority, location, token, siteaccess\n     * @memberof SubItemsModule\n     */\n    handleItemPriorityUpdate(data) {\n        this.props.updateLocationPriority({ ...data, ...this.props.restInfo }, this.afterPriorityUpdated);\n    }\n\n    /**\n     * Updates module state after item's priority has been updated\n     *\n     * @method afterPriorityUpdated\n     * @param {Object} response\n     * @memberof SubItemsModule\n     */\n    afterPriorityUpdated(response) {\n        if (this.state.sortClause === 'LocationPriority') {\n            this.discardActivePageItems();\n            return;\n        }\n\n        this.updateItemLocation(response.Location);\n    }\n\n    updateItemLocation(location) {\n        this.setState(({ activePageItems }) => {\n            const itemIndex = activePageItems.findIndex((item) => item.location.id === location.id);\n\n            if (itemIndex === -1) {\n                return null;\n            }\n\n            const item = activePageItems[itemIndex];\n            const updatedItem = deepClone(item);\n            const updatedPageItems = [...activePageItems];\n\n            updatedItem.location = location;\n            updatedPageItems[itemIndex] = updatedItem;\n\n            return {\n                activePageItems: updatedPageItems,\n            };\n        });\n    }\n\n    /**\n     * Switches active view\n     *\n     * @method switchView\n     * @param {String} activeView\n     * @memberof SubItemsModule\n     */\n    switchView(activeView) {\n        this.setState(() => ({ activeView }));\n    }\n\n    toggleItemSelection(item, isSelected) {\n        const { selectedItems } = this.state;\n        const updatedSelectedItems = new Map(selectedItems);\n        const locationId = item.location.id;\n\n        if (isSelected) {\n            updatedSelectedItems.set(locationId, item);\n        } else {\n            updatedSelectedItems.delete(locationId);\n        }\n\n        this.setState(() => ({ selectedItems: updatedSelectedItems }));\n    }\n\n    toggleAllPageItemsSelection(select) {\n        const { activePageItems } = this.state;\n\n        if (select) {\n            this.selectItems(activePageItems);\n        } else {\n            const locationsIds = activePageItems.map((item) => item.location.id);\n            const locationsIdsSet = new Set(locationsIds);\n\n            this.deselectItems(locationsIdsSet);\n        }\n    }\n\n    /**\n     *\n     * @param {Array} itemsToSelect\n     */\n    selectItems(itemsToSelect) {\n        const { selectedItems } = this.state;\n        const newSelectedItems = itemsToSelect.map((item) => [item.location.id, item]);\n        const newSelection = new Map([...selectedItems, ...newSelectedItems]);\n\n        this.setState(() => ({ selectedItems: newSelection }));\n    }\n\n    /**\n     * Deselects items with locations with provided IDs.\n     *\n     * @param {Set} locationsIds\n     */\n    deselectItems(locationsIds) {\n        const { selectedItems } = this.state;\n        const newSelection = new Map([...selectedItems].filter(([locationId]) => !locationsIds.has(locationId)));\n\n        this.setState(() => ({ selectedItems: newSelection }));\n    }\n\n    deselectAllItems() {\n        this.setState(() => ({ selectedItems: new Map() }));\n    }\n\n    toggleBulkOperationStatusState(isDuringBulkOperation) {\n        this.setState(() => ({\n            isDuringBulkOperation,\n        }));\n    }\n\n    onMoveBtnClick() {\n        this.toggleUdw(true);\n    }\n\n    bulkMove(location) {\n        this.toggleBulkOperationStatusState(true);\n\n        const { restInfo } = this.props;\n        const { selectedItems } = this.state;\n        const locationsToMove = [...selectedItems.values()].map(({ location }) => location);\n\n        bulkMoveLocations(restInfo, locationsToMove, location._href, this.afterBulkMove.bind(this, selectedItems, location));\n    }\n\n    afterBulkMove(selectedItems, location, movedLocations, notMovedLocations) {\n        const { totalCount } = this.state;\n\n        this.updateTotalCountState(totalCount - movedLocations.length);\n        this.deselectAllItems();\n        this.discardActivePageItems();\n\n        this.toggleBulkOperationStatusState(false);\n\n        if (notMovedLocations.length) {\n            const modalTableTitle = Translator.trans(\n                /*@Desc(\"Content items cannot be moved (%itemsCount%)\")*/ 'bulk_move.error.modal.table_title',\n                {\n                    itemsCount: notMovedLocations.length,\n                },\n                'sub_items'\n            );\n            const notificationMessage = Translator.trans(\n                /*@Desc(\"%notMovedCount% of the %totalCount% selected item(s) could not be moved because you do not have proper user permissions. <u><a class='ez-notification-btn ez-notification-btn--show-modal'>Click here for more information.</a></u><br>Please contact your Administrator to obtain permissions.\")*/ 'bulk_move.error.message',\n                {\n                    notMovedCount: notMovedLocations.length,\n                    totalCount: movedLocations.length + notMovedLocations.length,\n                },\n                'sub_items'\n            );\n\n            this.handleBulkOperationFailedNotification(selectedItems, notMovedLocations, modalTableTitle, notificationMessage);\n        }\n\n        if (movedLocations.length) {\n            const message = Translator.trans(\n                /*@Desc(\"The selected content item(s) have been sent to <u><a href='%locationHref%'>%locationName%</a></u>\")*/ 'bulk_move.success.message',\n                {\n                    locationName: location.ContentInfo.Content.Name,\n                    locationHref: this.props.generateLink(location.id),\n                },\n                'sub_items'\n            );\n\n            window.eZ.helpers.notification.showSuccessNotification(message);\n        }\n    }\n\n    toggleUdw(show) {\n        this.setState(() => ({\n            isUdwOpened: show,\n        }));\n    }\n\n    closeUdw() {\n        this.toggleUdw(false);\n    }\n\n    onUdwConfirm([selectedLocation]) {\n        this.closeUdw();\n        this.bulkMove(selectedLocation);\n    }\n\n    renderUdw() {\n        const { isUdwOpened } = this.state;\n\n        if (!isUdwOpened) {\n            return null;\n        }\n\n        const UniversalDiscovery = window.eZ.modules.UniversalDiscovery;\n        const { restInfo, parentLocationId, udwConfigBulkMoveItems } = this.props;\n        const { selectedItems } = this.state;\n        const selectedItemsLocationsIds = [...selectedItems.values()].map(({ location }) => location.id);\n        const excludedMoveLocations = [parentLocationId, ...selectedItemsLocationsIds];\n        const title = Translator.trans(/*@Desc(\"Choose location\")*/ 'udw.choose_location.title', {}, 'sub_items');\n        const udwProps = {\n            title,\n            restInfo,\n            onCancel: this.closeUdw,\n            onConfirm: this.onUdwConfirm,\n            canSelectContent: ({ item }, callback) => {\n                callback(!excludedMoveLocations.includes(item.id));\n            },\n            ...udwConfigBulkMoveItems,\n        };\n\n        return ReactDOM.createPortal(<UniversalDiscovery {...udwProps} />, this.udwContainer);\n    }\n\n    onDeleteBtnClick() {\n        this.toggleBulkDeletePopup(true);\n    }\n\n    bulkDelete() {\n        this.toggleBulkOperationStatusState(true);\n\n        const { restInfo } = this.props;\n        const { selectedItems } = this.state;\n        const locationsToDelete = [...selectedItems.values()].map(({ location }) => location);\n\n        bulkMoveLocationsToTrash(restInfo, locationsToDelete, this.afterBulkDelete.bind(this, selectedItems));\n    }\n\n    afterBulkDelete(selectedItems, deletedLocations, notDeletedLocations) {\n        const { totalCount } = this.state;\n\n        this.updateTotalCountState(totalCount - deletedLocations.length);\n        this.deselectAllItems();\n        this.discardActivePageItems();\n\n        this.toggleBulkOperationStatusState(false);\n\n        if (notDeletedLocations.length) {\n            const modalTableTitle = Translator.trans(\n                /*@Desc(\"Content item(s) cannot be sent to trash (%itemsCount%)\")*/ 'bulk_delete.error.modal.table_title',\n                {\n                    itemsCount: notDeletedLocations.length,\n                },\n                'sub_items'\n            );\n            const message = Translator.trans(\n                /*@Desc(\"%notDeletedCount% of the %totalCount% selected item(s) could not be deleted because you do not have proper user permissions. <u><a class='ez-notification-btn ez-notification-btn--show-modal'>Click here for more information.</a></u><br>Please contact your Administrator to obtain permissions.\")*/ 'bulk_delete.error.message',\n                {\n                    notDeletedCount: notDeletedLocations.length,\n                    totalCount: deletedLocations.length + notDeletedLocations.length,\n                },\n                'sub_items'\n            );\n\n            this.handleBulkOperationFailedNotification(selectedItems, notDeletedLocations, modalTableTitle, message);\n        } else {\n            const message = Translator.trans(\n                /*@Desc(\"The selected content item(s) have been sent to trash\")*/ 'bulk_delete.success.message',\n                {},\n                'sub_items'\n            );\n\n            window.eZ.helpers.notification.showSuccessNotification(message);\n        }\n    }\n\n    toggleBulkDeletePopup(show) {\n        this.setState(() => ({\n            isBulkDeletePopupVisible: show,\n        }));\n    }\n\n    closeBulkDeletePopup() {\n        this.toggleBulkDeletePopup(false);\n    }\n\n    onBulkDeletePopupConfirm() {\n        this.closeBulkDeletePopup();\n        this.bulkDelete();\n    }\n\n    /**\n     * Shows warning notification which has a button.\n     * Clicking the button should cause appearance of the modal\n     * with list of items, which failed to be deleted/moved.\n     *\n     * @param {Map} selectedItems\n     * @param {Array} failedLocations\n     * @param {String} modalTableTitle\n     * @param {String} notificationMessage\n     */\n    handleBulkOperationFailedNotification(selectedItems, failedLocations, modalTableTitle, notificationMessage) {\n        const { contentTypesMap } = this.state;\n        const failedItemsData = failedLocations.map(({ id: locationId }) => {\n            const item = selectedItems.get(locationId);\n            const contentType = contentTypesMap[item.content.ContentType._href];\n            const contentTypeIdentifier = contentType.identifier;\n            const contentTypeName = window.eZ.adminUiConfig.contentTypeNames[contentTypeIdentifier];\n\n            return {\n                contentTypeName,\n                contentName: item.content.Name,\n            };\n        });\n\n        window.eZ.helpers.notification.showWarningNotification(notificationMessage, (notificationNode) => {\n            const showModalBtn = notificationNode.querySelector('.ez-notification-btn--show-modal');\n\n            if (!showModalBtn) {\n                return;\n            }\n\n            showModalBtn.addEventListener('click', this.props.showBulkActionFailedModal.bind(null, modalTableTitle, failedItemsData));\n        });\n    }\n\n    renderConfirmationPopupFooter() {\n        const cancelLabel = Translator.trans(/*@Desc(\"Cancel\")*/ 'bulk_delete.popup.cancel', {}, 'sub_items');\n        const confirmLabel = Translator.trans(/*@Desc(\"Send to trash\")*/ 'bulk_delete.popup.confirm', {}, 'sub_items');\n\n        return (\n            <Fragment>\n                <button\n                    onClick={this.closeBulkDeletePopup}\n                    type=\"button\"\n                    className=\"btn btn-secondary btn--no m-sub-items__confirmation-modal-cancel-btn\"\n                    data-dismiss=\"modal\">\n                    {cancelLabel}\n                </button>\n                <button onClick={this.onBulkDeletePopupConfirm} type=\"button\" className=\"btn btn-danger font-weight-bold btn--trigger\">\n                    {confirmLabel}\n                </button>\n            </Fragment>\n        );\n    }\n\n    renderConfirmationPopup() {\n        const { isBulkDeletePopupVisible } = this.state;\n\n        if (!isBulkDeletePopupVisible) {\n            return null;\n        }\n\n        const confirmationMessage = Translator.trans(\n            /*@Desc(\"Are you sure you want to send the selected content item(s) to trash?\")*/ 'bulk_delete.popup.message',\n            {},\n            'sub_items'\n        );\n\n        return ReactDOM.createPortal(\n            <Popup\n                onClose={this.closeBulkDeletePopup}\n                isVisible={isBulkDeletePopupVisible}\n                isLoading={false}\n                size=\"medium\"\n                footerChildren={this.renderConfirmationPopupFooter()}\n                noHeader={true}>\n                <div className=\"m-sub-items__confirmation-modal-body\">{confirmationMessage}</div>\n            </Popup>,\n            this.bulkDeleteModalContainer\n        );\n    }\n\n    changePage(pageIndex) {\n        this.updateListViewHeight();\n        this.setState(() => ({\n            activePageIndex: pageIndex,\n            activePageItems: null,\n        }));\n    }\n\n    getPageSelectedLocationsIds() {\n        const { selectedItems, activePageItems } = this.state;\n        const selectedLocationsIds = [...selectedItems.keys()];\n        const pageLocationsIds = [...activePageItems.map((item) => item.location.id)];\n        const selectedPageLocationsIds = new Set(pageLocationsIds.filter((locationId) => selectedLocationsIds.includes(locationId)));\n\n        return selectedPageLocationsIds;\n    }\n\n    /**\n     * Renders extra actions\n     *\n     * @method renderExtraActions\n     * @param {Object} action\n     * @returns {JSX.Element}\n     * @memberof SubItemsModule\n     */\n    renderExtraActions(action, index) {\n        const Action = action.component;\n\n        return <Action key={index} className=\"m-sub-items__action\" {...action.attrs} />;\n    }\n\n    /**\n     * Renders pagination info,\n     * which is information about how many items of all user is\n     * viewing at the moment\n     *\n     * @method renderPaginationInfo\n     * @returns {JSX.Element}\n     */\n    renderPaginationInfo() {\n        const { totalCount, activePageItems } = this.state;\n        const viewingCount = activePageItems ? activePageItems.length : 0;\n\n        const message = Translator.trans(\n            /*@Desc(\"Viewing <strong>%viewingCount%</strong> out of <strong>%totalCount%</strong> sub-items\")*/ 'viewing_message',\n            {\n                viewingCount,\n                totalCount,\n            },\n            'sub_items'\n        );\n\n        return <div className=\"m-sub-items__pagination-info\" dangerouslySetInnerHTML={{ __html: message }} />;\n    }\n\n    /**\n     * Renders pagination\n     *\n     * @method renderPagination\n     * @returns {JSX.Element|null}\n     * @memberof SubItemsModule\n     */\n    renderPagination() {\n        const { limit: itemsPerPage } = this.props;\n        const { totalCount } = this.state;\n        const lessThanOnePage = totalCount <= itemsPerPage;\n\n        if (lessThanOnePage) {\n            return null;\n        }\n\n        const { activePageIndex, activePageItems, isDuringBulkOperation } = this.state;\n        const isActivePageLoaded = !!activePageItems;\n        const isPaginationDisabled = !isActivePageLoaded || isDuringBulkOperation;\n\n        return (\n            <PaginationComponent\n                proximity={1}\n                itemsPerPage={itemsPerPage}\n                activePageIndex={activePageIndex}\n                totalCount={totalCount}\n                onPageChange={this.changePage}\n                disabled={isPaginationDisabled}\n            />\n        );\n    }\n\n    renderBulkMoveBtn(disabled) {\n        const label = Translator.trans(/*@Desc(\"Move selected items\")*/ 'move_btn.label', {}, 'sub_items');\n\n        return <ActionButton disabled={disabled} onClick={this.onMoveBtnClick} label={label} type=\"move\" />;\n    }\n\n    renderBulkDeleteBtn(disabled) {\n        const label = Translator.trans(/*@Desc(\"Delete selected items\")*/ 'trash_btn.label', {}, 'sub_items');\n\n        return <ActionButton disabled={disabled} onClick={this.onDeleteBtnClick} label={label} type=\"trash\" />;\n    }\n\n    renderSpinner() {\n        const { activePageItems } = this.state;\n        const isActivePageLoaded = !!activePageItems;\n\n        if (isActivePageLoaded) {\n            return null;\n        }\n\n        const { listViewHeight } = this.state;\n        const spinnerMinHeight = 90;\n        const style = {\n            height: listViewHeight && listViewHeight > spinnerMinHeight ? listViewHeight : spinnerMinHeight,\n        };\n\n        return (\n            <div style={style}>\n                <div className=\"m-sub-items__spinner-wrapper\">\n                    <Icon name=\"spinner\" extraClasses=\"m-sub-items__spinner ez-icon--medium ez-spin\" />\n                </div>\n            </div>\n        );\n    }\n\n    renderNoItems() {\n        if (this.state.totalCount) {\n            return null;\n        }\n\n        return <NoItemsComponent />;\n    }\n\n    renderListView() {\n        const { activePageItems, sortClause, sortOrder } = this.state;\n        const pageLoaded = !!activePageItems;\n\n        if (!pageLoaded) {\n            return null;\n        }\n\n        const selectedPageLocationsIds = this.getPageSelectedLocationsIds();\n\n        return (\n            <SubItemsListComponent\n                activeView={this.state.activeView}\n                contentTypesMap={this.state.contentTypesMap}\n                handleItemPriorityUpdate={this.handleItemPriorityUpdate}\n                items={activePageItems}\n                languages={this.props.languages}\n                handleEditItem={this.props.handleEditItem}\n                generateLink={this.props.generateLink}\n                onItemSelect={this.toggleItemSelection}\n                toggleAllItemsSelect={this.toggleAllPageItemsSelection}\n                selectedLocationsIds={selectedPageLocationsIds}\n                onSortChange={this.changeSorting}\n                sortClause={sortClause}\n                sortOrder={sortOrder}\n            />\n        );\n    }\n\n    render() {\n        const listTitle = Translator.trans(/*@Desc(\"Sub-items\")*/ 'items_list.title', {}, 'sub_items');\n        const { selectedItems, activeView, totalCount, isDuringBulkOperation, activePageItems } = this.state;\n        const nothingSelected = !selectedItems.size;\n        const isTableViewActive = activeView === 'table';\n        const pageLoaded = !!activePageItems;\n        const bulkBtnDisabled = nothingSelected || !isTableViewActive || !pageLoaded;\n        let listClassName = 'm-sub-items__list';\n\n        if (isDuringBulkOperation) {\n            listClassName = `${listClassName} ${listClassName}--processing`;\n        }\n\n        return (\n            <div className=\"m-sub-items\">\n                <div className=\"m-sub-items__header\">\n                    <div className=\"m-sub-items__title\">\n                        {listTitle} ({this.state.totalCount})\n                    </div>\n                    <div className=\"m-sub-items__actions\">\n                        {this.props.extraActions.map(this.renderExtraActions)}\n                        {this.renderBulkMoveBtn(bulkBtnDisabled)}\n                        {this.renderBulkDeleteBtn(bulkBtnDisabled)}\n                    </div>\n                    <ViewSwitcherComponent onViewChange={this.switchView} activeView={activeView} isDisabled={!totalCount} />\n                </div>\n                <div ref={this._refListViewWrapper} className={listClassName}>\n                    {this.renderSpinner()}\n                    {this.renderListView()}\n                    {this.renderNoItems()}\n                </div>\n                {this.renderPaginationInfo()}\n                {this.renderPagination()}\n                {this.renderUdw()}\n                {this.renderConfirmationPopup()}\n            </div>\n        );\n    }\n}\n\nSubItemsModule.propTypes = {\n    parentLocationId: PropTypes.number.isRequired,\n    restInfo: PropTypes.shape({\n        token: PropTypes.string.isRequired,\n        siteaccess: PropTypes.string.isRequired,\n    }).isRequired,\n    loadContentInfo: PropTypes.func,\n    loadContentType: PropTypes.func,\n    loadContentTypes: PropTypes.func,\n    loadLocation: PropTypes.func,\n    sortClauses: PropTypes.object,\n    updateLocationPriority: PropTypes.func,\n    activeView: PropTypes.string,\n    extraActions: PropTypes.arrayOf(\n        PropTypes.shape({\n            component: PropTypes.func,\n            attrs: PropTypes.object,\n        })\n    ),\n    items: PropTypes.arrayOf(PropTypes.object),\n    limit: PropTypes.number,\n    offset: PropTypes.number,\n    handleEditItem: PropTypes.func.isRequired,\n    generateLink: PropTypes.func.isRequired,\n    contentTypesMap: PropTypes.object,\n    totalCount: PropTypes.number,\n    languages: PropTypes.object,\n    udwConfigBulkMoveItems: PropTypes.object.isRequired,\n    showBulkActionFailedModal: PropTypes.func.isRequired,\n};\n\nSubItemsModule.defaultProps = {\n    loadContentInfo,\n    loadContentType,\n    loadContentTypes,\n    loadLocation,\n    sortClauses: {},\n    updateLocationPriority,\n    activeView: 'table',\n    extraActions: [],\n    languages: window.eZ.adminUiConfig.languages,\n    items: [],\n    limit: parseInt(window.eZ.adminUiConfig.subItems.limit, 10),\n    offset: 0,\n    contentTypesMap: {},\n    totalCount: 0,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/sub.items.module.js","module.exports = __WEBPACK_EXTERNAL_MODULE_14__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"ReactDOM\",\"commonjs2\":\"react-dom\",\"commonjs\":\"react-dom\",\"amd\":\"react-dom\"}\n// module id = 14\n// module chunks = 1","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ViewSwitcherButton from './view.switcher.button.component';\n\nconst ViewSwitcherComponent = ({ onViewChange, activeView, isDisabled }) => {\n    let componentClassName = 'c-view-switcher';\n\n    if (isDisabled) {\n        componentClassName = `${componentClassName} ${componentClassName}--disabled`;\n    }\n\n    const listViewBtnLabel = Translator.trans(/*@Desc(\"View as list\")*/ 'switch_to_list_view.btn.label', {}, 'sub_items');\n    const gridViewBtnLabel = Translator.trans(/*@Desc(\"View as grid\")*/ 'switch_to_grid_view.btn.label', {}, 'sub_items');\n\n    return (\n        <div className={componentClassName}>\n            <ViewSwitcherButton\n                id=\"table\"\n                icon=\"view-list\"\n                title={listViewBtnLabel}\n                onClick={onViewChange}\n                activeView={activeView}\n                isDisabled={isDisabled}\n            />\n            <ViewSwitcherButton\n                id=\"grid\"\n                icon=\"view-grid\"\n                title={gridViewBtnLabel}\n                onClick={onViewChange}\n                activeView={activeView}\n                isDisabled={isDisabled}\n            />\n        </div>\n    );\n};\n\nViewSwitcherComponent.propTypes = {\n    onViewChange: PropTypes.func.isRequired,\n    activeView: PropTypes.string.isRequired,\n    isDisabled: PropTypes.bool.isRequired,\n};\n\nexport default ViewSwitcherComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/view-switcher/view.switcher.component.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from '../../../common/icon/icon';\n\nconst ViewSwitcherButton = ({ id, icon, title, onClick, activeView, isDisabled }) => {\n    const baseClassName = 'c-view-switcher-btn';\n    const attrs = {\n        id,\n        onClick: () => onClick(id),\n        className: baseClassName,\n        title,\n        tabIndex: '-1',\n    };\n    const iconAttrs = {\n        name: icon,\n        extraClasses: 'ez-icon--secondary ez-icon--small',\n    };\n\n    if (activeView === id) {\n        attrs.className = `${baseClassName} ${baseClassName}--active`;\n        iconAttrs.extraClasses = 'ez-icon--light ez-icon--small';\n    }\n\n    if (isDisabled) {\n        attrs.className = `${attrs.className} ${baseClassName}--disabled`;\n    }\n\n    return (\n        <div {...attrs}>\n            <Icon {...iconAttrs} />\n        </div>\n    );\n};\n\nViewSwitcherButton.propTypes = {\n    id: PropTypes.string.isRequired,\n    activeView: PropTypes.string.isRequired,\n    isDisabled: PropTypes.bool.isRequired,\n    icon: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    onClick: PropTypes.func.isRequired,\n};\n\nexport default ViewSwitcherButton;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/view-switcher/view.switcher.button.component.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport TableViewComponent from '../table-view/table.view.component.js';\nimport GridViewComponent from '../grid-view/grid.view.component.js';\n\nconst views = {\n    table: TableViewComponent,\n    grid: GridViewComponent,\n};\n\nconst SubItemsListComponent = (props) => {\n    const Component = views[props.activeView];\n\n    return <Component {...props} />;\n};\n\nSubItemsListComponent.propTypes = {\n    activeView: PropTypes.string.isRequired,\n    items: PropTypes.arrayOf(PropTypes.object),\n    contentTypesMap: PropTypes.object.isRequired,\n    handleItemPriorityUpdate: PropTypes.func.isRequired,\n    languages: PropTypes.object.isRequired,\n    onItemSelect: PropTypes.func.isRequired,\n    toggleAllItemsSelect: PropTypes.func.isRequired,\n    selectedLocationsIds: PropTypes.instanceOf(Set).isRequired,\n    onSortChange: PropTypes.func.isRequired,\n    sortClause: PropTypes.string.isRequired,\n    sortOrder: PropTypes.string.isRequired,\n};\n\nexport default SubItemsListComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/sub-items-list/sub.items.list.component.js","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport TableViewItemComponent from './table.view.item.component';\nimport Icon from '../../../common/icon/icon';\n\nconst KEY_CONTENT_NAME = 'ContentName';\nconst KEY_DATE_MODIFIED = 'DateModified';\nconst KEY_LOCATION_PRIORITY = 'LocationPriority';\nconst SORTKEY_MAP = {\n    [KEY_CONTENT_NAME]: 'name',\n    [KEY_DATE_MODIFIED]: 'date',\n    [KEY_LOCATION_PRIORITY]: 'priority',\n};\n\nexport default class TableViewComponent extends Component {\n    constructor(props) {\n        super(props);\n\n        this.sortByName = this.sortByName.bind(this);\n        this.sortByDate = this.sortByDate.bind(this);\n        this.sortByPriority = this.sortByPriority.bind(this);\n        this.renderItem = this.renderItem.bind(this);\n        this.selectAll = this.selectAll.bind(this);\n        this.toggleColumnsToggler = this.toggleColumnsToggler.bind(this);\n        this.handleColumnsTogglerClose = this.handleColumnsTogglerClose.bind(this);\n\n        this._refColumnsTogglerButton = createRef();\n\n        this.headerLabelsMap = {\n            name: Translator.trans(/*@Desc(\"Name\")*/ 'items_table.header.name', {}, 'sub_items'),\n            modified: Translator.trans(/*@Desc(\"Modified\")*/ 'items_table.header.modified', {}, 'sub_items'),\n            contentType: Translator.trans(/*@Desc(\"Content type\")*/ 'items_table.header.content_type', {}, 'sub_items'),\n            priority: Translator.trans(/*@Desc(\"Priority\")*/ 'items_table.header.priority', {}, 'sub_items'),\n            translations: Translator.trans(/*@Desc(\"Translations\")*/ 'items_table.header.translations', {}, 'sub_items'),\n        };\n\n        this.state = {\n            isColumnsTogglerOpen: false,\n            columnsVisibility: { // TODO: save in localStorage?\n                modified: true,\n                contentType: true,\n                priority: true,\n                translations: true,\n            },\n        };\n    }\n\n    componentDidMount() {\n        document.addEventListener('click', this.handleColumnsTogglerClose, false);\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('click', this.handleColumnsTogglerClose);\n    }\n\n    handleColumnsTogglerClose({ target }) {\n        if (!this.state.isColumnsTogglerOpen) {\n            return;\n        }\n\n        const isClickInsideColumnsToggler = target.closest('.c-table-view__columns-toggler-panel');\n        const isClickOnColumnsTogglerBtn = target.closest('.c-table-view__columns-toggler-btn');\n\n        if (!isClickInsideColumnsToggler && !isClickOnColumnsTogglerBtn) {\n            this.setState(() => ({\n                isColumnsTogglerOpen: false,\n            }));\n        }\n    }\n\n    /**\n     * Changes sort to name\n     */\n    sortByName() {\n        const { onSortChange } = this.props;\n\n        onSortChange(KEY_CONTENT_NAME);\n    }\n\n    /**\n     * Changes sort to modification date\n     */\n    sortByDate() {\n        const { onSortChange } = this.props;\n\n        onSortChange(KEY_DATE_MODIFIED);\n    }\n\n    /**\n     * Changes sort to priority\n     */\n    sortByPriority() {\n        const { onSortChange } = this.props;\n\n        onSortChange(KEY_LOCATION_PRIORITY);\n    }\n\n    /**\n     * Selects all visible items\n     *\n     * @param {Event} event\n     */\n    selectAll(event) {\n        const { toggleAllItemsSelect } = this.props;\n        const isSelectAction = event.target.checked;\n\n        toggleAllItemsSelect(isSelectAction);\n    }\n\n    toggleColumnVisibility(column) {\n        this.setState((state) => ({\n            columnsVisibility: {\n                ...state.columnsVisibility,\n                [column]: !state.columnsVisibility[column],\n            },\n        }));\n    }\n\n    toggleColumnsToggler() {\n        this.setState((state) => ({\n            isColumnsTogglerOpen: !state.isColumnsTogglerOpen,\n        }));\n    }\n\n    /**\n     * Renders single list item\n     *\n     * @method renderItem\n     * @param {Object} data\n     * @returns {JSX.Element}\n     * @memberof TableViewComponent\n     */\n    renderItem(data) {\n        const { columnsVisibility } = this.state;\n        const {\n            contentTypesMap,\n            handleItemPriorityUpdate,\n            handleEditItem,\n            generateLink,\n            languages,\n            onItemSelect,\n            selectedLocationsIds,\n        } = this.props;\n        const isSelected = selectedLocationsIds.has(data.location.id);\n\n        return (\n            <TableViewItemComponent\n                key={data.location.id}\n                {...data}\n                contentTypesMap={contentTypesMap}\n                onItemPriorityUpdate={handleItemPriorityUpdate}\n                languages={languages}\n                handleEditItem={handleEditItem}\n                generateLink={generateLink}\n                onItemSelect={onItemSelect}\n                isSelected={isSelected}\n                columnsVisibility={columnsVisibility}\n            />\n        );\n    }\n\n    renderColumnsToggler() {\n        const { isColumnsTogglerOpen } = this.state;\n\n        if (!isColumnsTogglerOpen) {\n            return null;\n        }\n\n        const { columnsVisibility } = this.state;\n\n        return (\n            <div className=\"c-table-view__columns-toggler-panel\">\n                <ul className=\"c-table-view__columns-toggler-list\">\n                    {Object.keys(columnsVisibility).map((columnKey) => {\n                        const isColumnVisible = columnsVisibility[columnKey];\n                        const label = this.headerLabelsMap[columnKey];\n\n                        return (\n                            <li\n                                key={columnKey}\n                                className=\"c-table-view__columns-toggler-option\"\n                                onClick={this.toggleColumnVisibility.bind(this, columnKey)}>\n                                <div className=\"form-check form-check-inline\">\n                                    <input className=\"form-check-input\" type=\"checkbox\" checked={isColumnVisible} />\n                                    <label className=\"c-table-view__columns-toggler-option-label form-check-label\">{label}</label>\n                                </div>\n                            </li>\n                        );\n                    })}\n                </ul>\n            </div>\n        );\n    }\n\n    /**\n     * Renders table's head\n     *\n     * @method renderHead\n     * @returns {JSX.Element|null}\n     * @memberof GridViewComponent\n     */\n    renderHead() {\n        const cellClass = 'c-table-view__cell';\n        const cellHeadClass = `${cellClass} ${cellClass}--head`;\n        const cellSortClass = `${cellClass}--sortable`;\n        const { items } = this.props;\n        let headClass = 'c-table-view__head';\n\n        if (!items.length) {\n            return null;\n        }\n\n        const { sortClause, sortOrder } = this.props;\n\n        if (sortClause) {\n            const headSortOrderClass = sortOrder === 'ascending' ? `${headClass}--sort-asc` : `${headClass}--sort-desc`;\n            const headSortByClass = `${headClass}--sort-by-${SORTKEY_MAP[sortClause]}`;\n\n            headClass = `${headClass} ${headSortOrderClass} ${headSortByClass}`;\n        }\n\n        const { selectedLocationsIds } = this.props;\n        const { columnsVisibility } = this.state;\n        const anyLocationSelected = !!selectedLocationsIds.size;\n\n        return (\n            <thead className={headClass}>\n                <tr className=\"c-table-view__row\">\n                    <th className={`${cellHeadClass} ${cellClass}--checkbox`}>\n                        <input type=\"checkbox\" checked={anyLocationSelected} onChange={this.selectAll} />\n                    </th>\n                    <th className={cellHeadClass} />\n                    <th className={`${cellHeadClass} ${cellClass}--name ${cellSortClass}`} onClick={this.sortByName} tabIndex=\"-1\">\n                        <span className=\"c-table-view__label\">{this.headerLabelsMap.name}</span>\n                    </th>\n                    {columnsVisibility.modified && (\n                        <th className={`${cellHeadClass} ${cellClass}--date ${cellSortClass}`} onClick={this.sortByDate} tabIndex=\"-1\">\n                            <span className=\"c-table-view__label\">{this.headerLabelsMap.modified}</span>\n                        </th>\n                    )}\n                    {columnsVisibility.contentType && (\n                        <th className={cellHeadClass}>\n                            <span className=\"c-table-view__label\">{this.headerLabelsMap.contentType}</span>\n                        </th>\n                    )}\n                    {columnsVisibility.priority && (\n                        <th\n                            className={`${cellHeadClass} ${cellClass}--priority ${cellSortClass}`}\n                            onClick={this.sortByPriority}\n                            tabIndex=\"-1\">\n                            <span className=\"c-table-view__label\">{this.headerLabelsMap.priority}</span>\n                        </th>\n                    )}\n                    {columnsVisibility.translations && (\n                        <th className={`${cellHeadClass} ${cellClass}--priority ${cellSortClass}`}>\n                            <span className=\"c-table-view__label\">{this.headerLabelsMap.translations}</span>\n                        </th>\n                    )}\n                    <th className={`${cellHeadClass} ${cellClass}--actions`}>\n                        <div className=\"c-table-view__columns-toggler\">\n                            <button\n                                ref={this._refColumnsTogglerButton}\n                                type=\"button\"\n                                className=\"btn btn-secondary c-table-view__columns-toggler-btn\"\n                                onClick={this.toggleColumnsToggler}>\n                                <Icon name=\"filters\" extraClasses=\"ez-icon--small ez-icon--light\" />\n                            </button>\n                            {this.renderColumnsToggler()}\n                        </div>\n                    </th>\n                </tr>\n            </thead>\n        );\n    }\n\n    render() {\n        const { items } = this.props;\n        const content = items.map(this.renderItem);\n\n        return (\n            <div className=\"c-table-view__wrapper\">\n                <div className=\"c-table-view__scroller\">\n                    <table className=\"c-table-view\">\n                        {this.renderHead()}\n                        <tbody className=\"c-table-view__body\">{content}</tbody>\n                    </table>\n                </div>\n            </div>\n        );\n    }\n}\n\nTableViewComponent.propTypes = {\n    items: PropTypes.arrayOf(PropTypes.object).isRequired,\n    contentTypesMap: PropTypes.object.isRequired,\n    handleItemPriorityUpdate: PropTypes.func.isRequired,\n    generateLink: PropTypes.func.isRequired,\n    handleEditItem: PropTypes.func.isRequired,\n    languages: PropTypes.object.isRequired,\n    onItemSelect: PropTypes.func.isRequired,\n    toggleAllItemsSelect: PropTypes.func.isRequired,\n    selectedLocationsIds: PropTypes.instanceOf(Set),\n    onSortChange: PropTypes.func.isRequired,\n    sortClause: PropTypes.string.isRequired,\n    sortOrder: PropTypes.string.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/table-view/table.view.component.js","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from '../../../common/icon/icon';\n\nexport default class TableViewItemComponent extends PureComponent {\n    constructor(props) {\n        super(props);\n\n        this.storePriorityValue = this.storePriorityValue.bind(this);\n        this.enablePriorityInput = this.enablePriorityInput.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleCancel = this.handleCancel.bind(this);\n        this.handleEdit = this.handleEdit.bind(this);\n        this.onSelectCheckboxChange = this.onSelectCheckboxChange.bind(this);\n        this.setPriorityInputRef = this.setPriorityInputRef.bind(this);\n\n        this._refPriorityInput = null;\n\n        this.state = {\n            priorityValue: props.location.priority,\n            priorityInputEnabled: false,\n            startingPriorityValue: props.location.priority,\n        };\n    }\n\n    /**\n     * Enables priority input field\n     *\n     * @method enablePriorityInput\n     * @memberof TableViewItemComponent\n     */\n    enablePriorityInput() {\n        this.setState(() => ({ priorityInputEnabled: true }));\n    }\n\n    /**\n     * Handles priority update cancel action.\n     * Restores previous value and blocks the priority input.\n     *\n     * @method handleCancel\n     * @param {Event} event\n     * @memberof TableViewItemComponent\n     */\n    handleCancel(event) {\n        event.preventDefault();\n\n        this.setState((state) => ({\n            priorityInputEnabled: false,\n            priorityValue: state.startingPriorityValue,\n        }));\n    }\n\n    /**\n     * Handles submit action.\n     * Updates priority value.\n     *\n     * @method handleSubmit\n     * @param {Event} event\n     * @memberof TableViewItemComponent\n     */\n    handleSubmit(event) {\n        event.preventDefault();\n\n        this.props.onItemPriorityUpdate({\n            location: this.props.location._href,\n            priority: this._refPriorityInput.value,\n        });\n\n        this.setState(() => ({\n            priorityValue: this._refPriorityInput.value,\n            priorityInputEnabled: false,\n            startingPriorityValue: this._refPriorityInput.value,\n        }));\n    }\n\n    /**\n     * Stores priority value\n     *\n     * @method storePriorityValue\n     * @param {Event} event\n     * @memberof TableViewItemComponent\n     */\n    storePriorityValue(event) {\n        event.preventDefault();\n\n        this.setState(() => ({ priorityValue: this._refPriorityInput.value }));\n    }\n\n    /**\n     * Handles edit action.\n     *\n     * @method handleEdit\n     * @memberof TableViewItemComponent\n     */\n    handleEdit() {\n        this.props.handleEditItem(this.props.content);\n    }\n\n    setPriorityInputRef(ref) {\n        this._refPriorityInput = ref;\n    }\n\n    /**\n     * Renders a priority cell with input field\n     *\n     * @method renderPriorityCell\n     * @returns {JSX.Element}\n     * @memberof TableViewItemComponent\n     */\n    renderPriorityCell() {\n        const inputAttrs = {\n            type: 'number',\n            defaultValue: this.state.priorityValue,\n            onChange: this.storePriorityValue,\n        };\n        const priorityWrapperAttrs = {};\n        const innerWrapperAttrs = {};\n\n        if (!this.state.priorityInputEnabled) {\n            inputAttrs.disabled = true;\n            delete inputAttrs.defaultValue;\n            inputAttrs.value = this.state.priorityValue;\n            priorityWrapperAttrs.onClick = this.enablePriorityInput;\n            priorityWrapperAttrs.className = 'c-table-view-item__inner-wrapper c-table-view-item__inner-wrapper--disabled';\n            innerWrapperAttrs.hidden = true;\n        }\n\n        return (\n            <td className=\"c-table-view-item__cell c-table-view-item__cell--priority\">\n                <div className=\"c-table-view-item__priority-wrapper\" {...priorityWrapperAttrs}>\n                    <div className=\"c-table-view-item__inner-wrapper c-table-view-item__inner-wrapper--input\">\n                        <input className=\"c-table-view-item__priority-value\" ref={this.setPriorityInputRef} {...inputAttrs} />\n                    </div>\n                    <div className=\"c-table-view-item__priority-actions\" {...innerWrapperAttrs}>\n                        <button type=\"button\" className=\"c-table-view-item__btn c-table-view-item__btn--submit\" onClick={this.handleSubmit}>\n                            <Icon name=\"checkmark\" extraClasses=\"ez-icon--medium ez-icon--light\" />\n                        </button>\n                        <button type=\"button\" className=\"c-table-view-item__btn c-table-view-item__btn--cancel\" onClick={this.handleCancel}>\n                            <Icon name=\"discard\" extraClasses=\"ez-icon--medium ez-icon--light\" />\n                        </button>\n                    </div>\n                </div>\n            </td>\n        );\n    }\n\n    /**\n     * Renders a translation item\n     *\n     * @method renderTranslation\n     * @returns {JSX.Element}\n     * @memberof TableViewItemComponent\n     */\n    renderTranslation(translation, index, translations) {\n        const isLastItem = index === translations.length - 1;\n\n        return (\n            <span key={index} className=\"c-table-view-item__translation\">\n                {translation}\n                {isLastItem ? '' : ', '}\n            </span>\n        );\n    }\n\n    /**\n     * Calls onItemSelect callback for given item\n     *\n     * @param {Event} event\n     */\n    onSelectCheckboxChange(event) {\n        const { location, content, onItemSelect } = this.props;\n        const isSelected = event.target.checked;\n\n        onItemSelect({ content, location }, isSelected);\n    }\n\n    render() {\n        const { content, location, isSelected, contentTypesMap, generateLink, languages, columnsVisibility } = this.props;\n        const notAvailableLabel = Translator.trans(/*@Desc(\"N/A\")*/ 'content_type.not_available.label', {}, 'sub_items');\n        const editLabel = Translator.trans(/*@Desc(\"Edit\")*/ 'edit_item_btn.label', {}, 'sub_items');\n        const { formatShortDateWithTimezone } = window.eZ.helpers.timezone;\n        const contentType = contentTypesMap[content.ContentType._href];\n        const contentTypeIdentifier = contentType ? contentType.identifier : null;\n        const contentTypeName = contentTypeIdentifier ? window.eZ.adminUiConfig.contentTypeNames[contentTypeIdentifier] : notAvailableLabel;\n        const linkAttrs = {\n            className: 'c-table-view-item__link c-table-view-item__text-wrapper',\n            title: content.Name,\n            href: generateLink(location.id),\n        };\n        const translations = content.CurrentVersion.Version.VersionInfo.VersionTranslationInfo.Language.map((langauge) => {\n            return languages.mappings[langauge.languageCode].name;\n        });\n        const contentTypeIconUrl = eZ.helpers.contentType.getContentTypeIconUrl(contentTypeIdentifier);\n        const cellClass = 'c-table-view-item__cell';\n\n        return (\n            <tr className=\"c-table-view-item\">\n                <td className={`${cellClass}--checkbox`}>\n                    <input type=\"checkbox\" checked={isSelected} onChange={this.onSelectCheckboxChange} />\n                </td>\n                <td className=\"c-table-view-item__cell c-table-view-item__cell--icon\">\n                    <Icon customPath={contentTypeIconUrl} extraClasses=\"ez-icon--medium\" />\n                </td>\n                <td className=\"c-table-view-item__cell c-table-view-item__cell--name\">\n                    <a {...linkAttrs}>{content.Name}</a>\n                </td>\n                {columnsVisibility.modified && (\n                    <td className=\"c-table-view-item__cell c-table-view-item__cell--modified\">\n                        <div className=\"c-table-view-item__text-wrapper\">\n                            {formatShortDateWithTimezone(new Date(content.lastModificationDate))}\n                        </div>\n                    </td>\n                )}\n                {columnsVisibility.contentType && (\n                    <td className=\"c-table-view-item__cell c-table-view-item__cell--content-type\">\n                        <div className=\"c-table-view-item__text-wrapper\">{contentTypeName}</div>\n                    </td>\n                )}\n                {columnsVisibility.priority && this.renderPriorityCell()}\n                {columnsVisibility.translations && (\n                    <td className=\"c-table-view-item__cell c-table-view-item__cell--translations\">\n                        {translations.map(this.renderTranslation)}\n                    </td>\n                )}\n                <td className=\"c-table-view-item__cell c-table-view-item__cell--actions\">\n                    <span\n                        title={editLabel}\n                        onClick={this.handleEdit}\n                        className=\"c-table-view-item__btn c-table-view-item__btn--edit\"\n                        tabIndex=\"-1\">\n                        <div className=\"c-table-view-item__btn-inner\">\n                            <Icon name=\"edit\" extraClasses=\"ez-icon--medium\" />\n                        </div>\n                    </span>\n                </td>\n            </tr>\n        );\n    }\n}\n\nTableViewItemComponent.propTypes = {\n    content: PropTypes.object.isRequired,\n    location: PropTypes.object.isRequired,\n    isSelected: PropTypes.bool.isRequired,\n    contentTypesMap: PropTypes.object.isRequired,\n    onItemPriorityUpdate: PropTypes.func.isRequired,\n    handleEditItem: PropTypes.func.isRequired,\n    generateLink: PropTypes.func.isRequired,\n    languages: PropTypes.object.isRequired,\n    onItemSelect: PropTypes.func.isRequired,\n    columnsVisibility: PropTypes.object.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/table-view/table.view.item.component.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport GridViewItemComponent from './grid.view.item.component';\n\nconst GridViewComponent = (props) => {\n    const { items, contentTypesMap, generateLink } = props;\n\n    return (\n        <div className=\"c-grid-view\">\n            {items.map((data) => (\n                <GridViewItemComponent key={data.location.id} {...data} contentTypesMap={contentTypesMap} generateLink={generateLink} />\n            ))}\n        </div>\n    );\n};\nGridViewComponent.propTypes = {\n    items: PropTypes.arrayOf(PropTypes.object),\n    contentTypesMap: PropTypes.object,\n    generateLink: PropTypes.func.isRequired,\n};\n\nexport default GridViewComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/grid-view/grid.view.component.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from '../../../common/icon/icon';\n\nconst GridViewItemComponent = ({ content, location, generateLink, contentTypesMap }) => {\n    const imageField = content.CurrentVersion.Version.Fields.field.find((item) => item.fieldTypeIdentifier === 'ezimage');\n    const imageClassName = 'c-grid-view-item__image';\n    const hasImage = imageField && imageField.fieldValue && imageField.fieldValue.uri && imageField.fieldValue.path;\n    const contentType = contentTypesMap ? contentTypesMap[content.ContentType._href] : null;\n    const contentTypeIdentifier = contentType ? contentType.identifier : null;\n    const contentTypeIconUrl = eZ.helpers.contentType.getContentTypeIconUrl(contentTypeIdentifier);\n    let image = (\n        <div className={`${imageClassName} ${imageClassName}--none`}>\n            <Icon customPath={contentTypeIconUrl} extraClasses=\"ez-icon--extra-large\" />\n        </div>\n    );\n    let contentTypeIcon = '';\n\n    if (hasImage) {\n        image = <img className={imageClassName} src={imageField.fieldValue.uri} alt={`${imageField.fieldValue.path}`} />;\n        contentTypeIcon = (\n            <div className=\"c-grid-view-item__content-type\">\n                <Icon customPath={contentTypeIconUrl} extraClasses=\"ez-icon--small\" />\n            </div>\n        );\n    }\n\n    return (\n        <a className=\"c-grid-view-item\" href={generateLink(location.id)}>\n            {contentTypeIcon}\n            <div className=\"c-grid-view-item__image-wrapper\">{image}</div>\n            <div className=\"c-grid-view-item__title\">{content.Name}</div>\n        </a>\n    );\n};\n\nGridViewItemComponent.propTypes = {\n    content: PropTypes.object.isRequired,\n    location: PropTypes.object.isRequired,\n    contentTypesMap: PropTypes.object.isRequired,\n    generateLink: PropTypes.func.isRequired,\n};\n\nexport default GridViewItemComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/grid-view/grid.view.item.component.js","import React, { Component } from 'react';\nimport $ from 'jquery';\nimport PropTypes from 'prop-types';\nimport Icon from '../icon/icon';\n\nconst CLASS_NON_SCROLLABLE = 'ezs-non-scrollable';\nconst CLASS_MODAL_OPEN = 'modal-open';\nconst MODAL_CONFIG = {\n    backdrop: 'static',\n    keyboard: true,\n};\nconst MODAL_SIZE_CLASS = {\n    small: 'modal-sm',\n    medium: '',\n    large: 'modal-lg',\n};\n\nclass Popup extends Component {\n    constructor(props) {\n        super(props);\n\n        this._refModal = null;\n\n        this.setModalRef = this.setModalRef.bind(this);\n        this.onKeyUp = this.onKeyUp.bind(this);\n\n        this.state = { isVisible: props.isVisible, isLoading: props.isLoading };\n    }\n\n    componentDidMount() {\n        const { isVisible: show } = this.state;\n\n        if (show) {\n            $(this._refModal).modal({ ...MODAL_CONFIG, show, focus: this.props.hasFocus });\n\n            this.attachModalEventHandlers();\n        }\n    }\n\n    componentDidUpdate() {\n        const { isVisible: show } = this.state;\n\n        $(this._refModal).modal({ ...MODAL_CONFIG, show, focus: this.props.hasFocus });\n\n        if (show) {\n            this.attachModalEventHandlers();\n        }\n    }\n\n    componentWillUnmount() {\n        $(this._refModal).modal('hide');\n        document.body.classList.remove(CLASS_MODAL_OPEN, CLASS_NON_SCROLLABLE);\n    }\n\n    UNSAFE_componentWillReceiveProps({ isVisible, onConfigIframeLoad, isLoading }) {\n        this.setState((state) => ({ ...state, isVisible, onConfigIframeLoad, isLoading }));\n    }\n\n    attachModalEventHandlers() {\n        const modal = $(this._refModal);\n\n        modal.on('keyup', this.onKeyUp);\n        modal.one('hidden.bs.modal', this.props.onClose);\n    }\n\n    onKeyUp(event) {\n        const { originalEvent } = event;\n        const escKeyCode = 27;\n        const escKeyPressed = originalEvent && (originalEvent.which === escKeyCode || originalEvent.keyCode === escKeyCode);\n\n        if (escKeyPressed) {\n            this.props.onClose();\n        }\n    }\n\n    setModalRef(component) {\n        this._refModal = component;\n    }\n\n    renderHeader() {\n        const closeBtnLabel = Translator.trans(/*@Desc(\"Close\")*/ 'popup.close.label', {}, 'universal_discovery_widget');\n\n        return (\n            <div className={'modal-header c-popup__header'}>\n                {this.renderHeadline()}\n                <button\n                    type=\"button\"\n                    className=\"close c-popup__btn--close\"\n                    data-dismiss=\"modal\"\n                    aria-label={closeBtnLabel}\n                    onClick={this.props.onClose}>\n                    <Icon name=\"discard\" extraClasses=\"ez-icon--medium\" />\n                </button>\n            </div>\n        );\n    }\n\n    renderHeadline() {\n        const { title } = this.props;\n\n        if (!title) {\n            return null;\n        }\n\n        return (\n            <h3 className=\"modal-title c-popup__headline\" title={this.props.title}>\n                <span className=\"c-popup__title\">{this.props.title}</span>\n                {this.renderSubtitle()}\n            </h3>\n        );\n    }\n\n    renderSubtitle() {\n        const { subtitle } = this.props;\n\n        if (!subtitle) {\n            return null;\n        }\n\n        return <span className=\"c-popup__subtitle\">{subtitle}</span>;\n    }\n\n    renderFooter() {\n        const { footerChildren } = this.props;\n\n        if (!footerChildren) {\n            return;\n        }\n\n        return <div className={'modal-footer c-popup__footer'}>{footerChildren}</div>;\n    }\n\n    render() {\n        const { isVisible } = this.state;\n        const { additionalClasses, size, noHeader } = this.props;\n        const modalAttrs = {\n            className: 'c-popup modal fade',\n            ref: this.setModalRef,\n            tabIndex: this.props.hasFocus ? -1 : undefined,\n        };\n\n        document.body.classList.toggle(CLASS_MODAL_OPEN, isVisible);\n        document.body.classList.toggle(CLASS_NON_SCROLLABLE, isVisible);\n\n        if (additionalClasses) {\n            modalAttrs.className = `${modalAttrs.className} ${additionalClasses}`;\n        }\n\n        if (noHeader) {\n            modalAttrs.className = `${modalAttrs.className} c-popup--no-header`;\n        }\n\n        return (\n            <div {...modalAttrs}>\n                <div className={`modal-dialog c-popup__dialog ${MODAL_SIZE_CLASS[size]}`} role=\"dialog\">\n                    <div className=\"modal-content c-popup__content\">\n                        {this.renderHeader()}\n                        <div className=\"modal-body c-popup__body\">{this.props.children}</div>\n                        {this.renderFooter()}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nPopup.propTypes = {\n    isVisible: PropTypes.bool,\n    isLoading: PropTypes.bool,\n    onClose: PropTypes.func.isRequired,\n    onConfigIframeLoad: PropTypes.func,\n    children: PropTypes.element.isRequired,\n    title: PropTypes.string,\n    subtitle: PropTypes.string,\n    hasFocus: PropTypes.bool,\n    additionalClasses: PropTypes.string,\n    footerChildren: PropTypes.element,\n    size: PropTypes.string,\n    noHeader: PropTypes.bool,\n};\n\nPopup.defaultProps = {\n    isVisible: false,\n    isLoading: true,\n    hasFocus: true,\n    size: 'large',\n    noHeader: false,\n    onConfigIframeLoad: () => {},\n};\n\nexport default Popup;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/common/popup/popup.component.js","module.exports = __WEBPACK_EXTERNAL_MODULE_23__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"jQuery\",\"commonjs2\":\"jquery\",\"commonjs\":\"jquery\",\"amd\":\"jquery\"}\n// module id = 23\n// module chunks = 1","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from '../../../common/icon/icon';\n\nconst ActionButton = (props) => {\n    const { disabled, onClick, label, type } = props;\n    const baseClassName = 'c-action-btn';\n    const handleClick = () => {\n        if (!disabled) {\n            onClick();\n        }\n    };\n    const attrs = {\n        className: `${baseClassName}`,\n        title: label,\n        tabIndex: '-1',\n        onClick: handleClick,\n    };\n\n    attrs.className = disabled ? `${attrs.className} ${baseClassName}--disabled` : attrs.className;\n    attrs.className = type ? `${attrs.className} ${baseClassName}--${type}` : attrs.className;\n\n    return (\n        <div {...attrs}>\n            <Icon name={type} extraClasses=\"ez-icon--light ez-icon--medium\" />\n        </div>\n    );\n};\n\nActionButton.propTypes = {\n    label: PropTypes.string.isRequired,\n    disabled: PropTypes.bool.isRequired,\n    type: PropTypes.string.isRequired,\n    onClick: PropTypes.func.isRequired,\n};\n\nexport default ActionButton;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/action-btn/action.btn.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport PaginationButtonComponent from './pagination.button.component';\n\nconst DOTS = '...';\n\n/**\n * Computes array with pagination pages.\n *\n * Example 1: [ 1, \"...\", 5, 6, 7, 8, 9, 10 ] (for: proximity = 2; pagesNumber = 10; activePageIndex = 7)\n * Example 2: [ 1, \"...\", 3, 4, 5, 6, 7, \"...\", 10 ] (for: proximity = 2; pagesNumber = 10; activePageIndex = 5)\n * Example 3: [ 1, \"...\", 8, 9, 10, 11, 12, \"...\", 20 ] (for: proximity = 2; pagesNumber = 20; activePageIndex = 10)\n *\n * @param {Object} params\n * @param {Number} params.proximity\n * @param {Number} params.activePageIndex\n * @param {Number} params.pagesCount\n *\n * @returns {Array}\n */\nconst computePages = ({ proximity, activePageIndex, pagesCount }) => {\n    const pages = [];\n    let wereDots = false;\n\n    for (let i = 1; i <= pagesCount; i++) {\n        const isFirstPage = i === 1;\n        const isLastPage = i === pagesCount;\n        const isInRange = i >= activePageIndex + 1 - proximity && i <= activePageIndex + 1 + proximity;\n\n        if (isFirstPage || isLastPage || isInRange) {\n            pages.push(i);\n            wereDots = false;\n        } else if (!wereDots) {\n            pages.push(DOTS);\n            wereDots = true;\n        }\n    }\n\n    return pages;\n};\n\nconst PaginationComponent = ({ totalCount, itemsPerPage, proximity, activePageIndex, onPageChange, disabled: paginationDisabled }) => {\n    const pagesCount = Math.ceil(totalCount / itemsPerPage);\n    const backLabel = Translator.trans(/*@Desc(\"Back\")*/ 'pagination.back', {}, 'sub_items');\n    const nextLabel = Translator.trans(/*@Desc(\"Next\")*/ 'pagination.next', {}, 'sub_items');\n    const previousPage = activePageIndex - 1;\n    const nextPage = activePageIndex + 1;\n    const isFirstPage = activePageIndex === 0;\n    const isLastPage = activePageIndex + 1 === pagesCount;\n    const pages = computePages({ proximity, activePageIndex, pagesCount });\n    const paginationButtons = pages.map((page, index) => {\n        if (page === DOTS) {\n            return <PaginationButtonComponent key={`dots-${index}`} label={DOTS} disabled={true} />;\n        }\n\n        const isCurrentPage = page === activePageIndex + 1;\n        const additionalClasses = isCurrentPage ? 'active' : '';\n        const label = '' + page;\n\n        return (\n            <PaginationButtonComponent\n                key={page}\n                pageIndex={page - 1}\n                label={label}\n                additionalClasses={additionalClasses}\n                onPageChange={onPageChange}\n                disabled={paginationDisabled}\n            />\n        );\n    });\n\n    return (\n        <ul className=\"c-pagination pagination row justify-content-center\">\n            <PaginationButtonComponent\n                pageIndex={previousPage}\n                label={backLabel}\n                additionalClasses=\"prev\"\n                disabled={isFirstPage || paginationDisabled}\n                onPageChange={onPageChange}\n            />\n            {paginationButtons}\n            <PaginationButtonComponent\n                pageIndex={nextPage}\n                label={nextLabel}\n                additionalClasses=\"next\"\n                disabled={isLastPage || paginationDisabled}\n                onPageChange={onPageChange}\n            />\n        </ul>\n    );\n};\n\nPaginationComponent.propTypes = {\n    proximity: PropTypes.number.isRequired,\n    itemsPerPage: PropTypes.number.isRequired,\n    activePageIndex: PropTypes.number.isRequired,\n    totalCount: PropTypes.number.isRequired,\n    onPageChange: PropTypes.func.isRequired,\n    disabled: PropTypes.bool,\n};\n\nexport default PaginationComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/pagination/pagination.component.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst PaginationButtonComponent = ({ label, disabled, additionalClasses, onPageChange, pageIndex }) => {\n    const handleClick = () => {\n        if (!disabled && Number.isInteger(pageIndex)) {\n            onPageChange(pageIndex);\n        }\n    };\n\n    let className = `c-pagination-button page-item ${additionalClasses}`;\n\n    className = disabled ? `${className} disabled` : className;\n\n    return (\n        <li className={className}>\n            <button className=\"page-link\" onClick={handleClick} type=\"button\">\n                {label}\n            </button>\n        </li>\n    );\n};\n\nPaginationButtonComponent.propTypes = {\n    label: PropTypes.string.isRequired,\n    disabled: PropTypes.bool,\n    onPageChange: PropTypes.func,\n    pageIndex: PropTypes.number,\n    additionalClasses: PropTypes.string,\n};\n\nPaginationButtonComponent.defaultProps = {\n    disabled: false,\n    additionalClasses: '',\n    onPageChange: () => {},\n};\n\nexport default PaginationButtonComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/pagination/pagination.button.component.js","import React from 'react';\n\nconst NoItemsComponent = () => {\n    const noItemsMessage = Translator.trans(/*@Desc(\"This location has no sub-items\")*/ 'no_items.message', {}, 'sub_items');\n\n    return <div className=\"c-no-items\">{noItemsMessage}</div>;\n};\n\nexport default NoItemsComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/no-items/no.items.component.js","import { handleRequestResponse } from '../../common/helpers/request.helper.js';\n\nconst HEADERS_CREATE_VIEW = {\n    Accept: 'application/vnd.ez.api.View+json; version=1.1',\n    'Content-Type': 'application/vnd.ez.api.ViewInput+json; version=1.1',\n};\nconst ENDPOINT_CREATE_VIEW = '/api/ezp/v2/views';\n\n/**\n * Loads location struct\n *\n * @function loadLocation\n * @param {Object} restInfo - contains:\n * @param {String} restInfo.token\n * @param {String} restInfo.siteaccess\n * @param {Object} queryConfig - contains:\n * @param {Number} queryConfig.locationId\n * @param {Number} queryConfig.limit\n * @param {Number} queryConfig.offset\n * @param {Object} queryConfig.sortClauses\n * @param {Function} callback\n */\nexport const loadLocation = ({ token, siteaccess }, { locationId = 2, limit = 10, offset = 0, sortClauses }, callback) => {\n    const body = JSON.stringify({\n        ViewInput: {\n            identifier: `subitems-load-location-${locationId}`,\n            public: false,\n            LocationQuery: {\n                Criteria: {},\n                FacetBuilders: {},\n                SortClauses: sortClauses,\n                Filter: { ParentLocationIdCriterion: locationId },\n                limit,\n                offset,\n            },\n        },\n    });\n    const request = new Request(ENDPOINT_CREATE_VIEW, {\n        method: 'POST',\n        headers: {\n            ...HEADERS_CREATE_VIEW,\n            'X-Siteaccess': siteaccess,\n            'X-CSRF-Token': token,\n        },\n        body,\n        mode: 'cors',\n        credentials: 'same-origin',\n    });\n\n    fetch(request)\n        .then(handleRequestResponse)\n        .then(callback)\n        .catch(() => window.eZ.helpers.notification.showErrorNotification('Cannot load location'));\n};\n\n/**\n * Loads content info\n *\n * @function loadContentInfo\n * @param {Array} contentIds\n * @param {Function} callback\n */\nexport const loadContentInfo = ({ token, siteaccess }, contentIds, callback) => {\n    const ids = contentIds.join();\n    const body = JSON.stringify({\n        ViewInput: {\n            identifier: `subitems-load-content-info-${ids}`,\n            public: false,\n            ContentQuery: {\n                Criteria: {},\n                FacetBuilders: {},\n                SortClauses: {},\n                Filter: { ContentIdCriterion: `${ids}` },\n                limit: contentIds.length,\n                offset: 0,\n            },\n        },\n    });\n    const request = new Request(ENDPOINT_CREATE_VIEW, {\n        method: 'POST',\n        headers: {\n            ...HEADERS_CREATE_VIEW,\n            'X-Siteaccess': siteaccess,\n            'X-CSRF-Token': token,\n        },\n        body,\n        mode: 'cors',\n        credentials: 'same-origin',\n    });\n\n    fetch(request)\n        .then(handleRequestResponse)\n        .then(callback)\n        .catch(() => window.eZ.helpers.notification.showErrorNotification('Cannot load content info'));\n};\n\n/**\n * Loads content types\n *\n * @function loadContentTypes\n * @param {Function} callback\n */\nexport const loadContentTypes = ({ token, siteaccess }, callback) => {\n    const request = new Request('/api/ezp/v2/content/types', {\n        method: 'GET',\n        headers: {\n            Accept: 'application/vnd.ez.api.ContentTypeInfoList+json',\n            'X-Siteaccess': siteaccess,\n            'X-CSRF-Token': token,\n        },\n        mode: 'cors',\n        credentials: 'same-origin',\n    });\n\n    fetch(request)\n        .then(handleRequestResponse)\n        .then(callback)\n        .catch(() => window.eZ.helpers.notification.showErrorNotification('Cannot load content types'));\n};\n\n/**\n * Loads content types\n *\n * @function loadContentType\n * @param {Function} callback\n */\nexport const loadContentType = (id, { token, siteaccess }, callback) => {\n    const request = new Request(id, {\n        method: 'GET',\n        headers: {\n            Accept: 'application/vnd.ez.api.ContentType+json',\n            'X-Siteaccess': siteaccess,\n            'X-CSRF-Token': token,\n        },\n        mode: 'cors',\n        credentials: 'same-origin',\n    });\n\n    fetch(request)\n        .then(handleRequestResponse)\n        .then(callback)\n        .catch(() => window.eZ.helpers.notification.showErrorNotification('Cannot load a content type'));\n};\n\n/**\n * Updates location priority\n *\n * @function updateLocationPriority\n * @param {Object} params params hash containing: priority, location, token, siteaccess properties\n * @param {Function} callback\n */\nexport const updateLocationPriority = ({ priority, location, token, siteaccess }, callback) => {\n    const request = new Request(location, {\n        method: 'POST',\n        headers: {\n            Accept: 'application/vnd.ez.api.Location+json',\n            'Content-Type': 'application/vnd.ez.api.LocationUpdate+json',\n            'X-Siteaccess': siteaccess,\n            'X-CSRF-Token': token,\n            'X-HTTP-Method-Override': 'PATCH',\n        },\n        credentials: 'same-origin',\n        mode: 'cors',\n        body: JSON.stringify({\n            LocationUpdate: {\n                priority: priority,\n                sortField: 'PATH',\n                sortOrder: 'ASC',\n            },\n        }),\n    });\n\n    fetch(request)\n        .then(handleRequestResponse)\n        .then(callback)\n        .catch(() => window.eZ.helpers.notification.showErrorNotification('An error occurred while updating location priority'));\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/services/sub.items.service.js","import { handleRequestResponse } from '../../common/helpers/request.helper.js';\n\nconst HEADERS_BULK = {\n    Accept: 'application/vnd.ez.api.BulkOperationResponse+json',\n    'Content-Type': 'application/vnd.ez.api.BulkOperation+json',\n};\nconst TRASH_FAKE_LOCATION = '/api/ezp/v2/content/trash';\nconst ENDPOINT_BULK = '/api/ezp/v2/bulk';\n\nexport const bulkMoveLocations = (restInfo, locations, newLocationHref, callback) => {\n    const requestBodyOperations = getBulkMoveRequestOperations(locations, newLocationHref);\n\n    makeBulkRequest(restInfo, requestBodyOperations, processBulkResponse.bind(null, locations, 201, callback));\n};\n\nexport const bulkMoveLocationsToTrash = (restInfo, locations, callback) => {\n    bulkMoveLocations(restInfo, locations, TRASH_FAKE_LOCATION, callback);\n};\n\nconst getBulkMoveRequestOperations = (locations, destination) => {\n    const operations = {};\n\n    locations.forEach((location) => {\n        operations[location.id] = {\n            uri: location._href,\n            method: 'MOVE',\n            headers: {\n                Destination: destination,\n            },\n        };\n    });\n\n    return operations;\n};\n\nconst processBulkResponse = (locations, successCode, callback, response) => {\n    const { operations } = response.BulkOperationResponse;\n    const locationsMatches = Object.entries(operations).reduce(\n        (locationsMatches, [locationId, response]) => {\n            const respectiveItem = locations.find((location) => location.id === parseInt(locationId, 10));\n            const isSuccess = response.statusCode === successCode;\n\n            if (isSuccess) {\n                locationsMatches.success.push(respectiveItem);\n            } else {\n                locationsMatches.fail.push(respectiveItem);\n            }\n\n            return locationsMatches;\n        },\n        { success: [], fail: [] }\n    );\n\n    callback(locationsMatches.success, locationsMatches.fail);\n};\n\nconst makeBulkRequest = ({ token, siteaccess }, requestBodyOperations, callback) => {\n    const request = new Request(ENDPOINT_BULK, {\n        method: 'POST',\n        headers: {\n            ...HEADERS_BULK,\n            'X-Siteaccess': siteaccess,\n            'X-CSRF-Token': token,\n        },\n        body: JSON.stringify({\n            bulkOperations: {\n                operations: requestBodyOperations,\n            },\n        }),\n        mode: 'same-origin',\n        credentials: 'same-origin',\n    });\n\n    fetch(request)\n        .then(handleRequestResponse)\n        .then(callback)\n        .catch(() => {\n            const message = Translator.trans(\n                /*@Desc(\"An unexpected error occurred while deleting the content item(s). Please try again later.\")*/ 'bulk_request.error.message',\n                {},\n                'sub_items'\n            );\n\n            window.eZ.helpers.notification.showErrorNotification(message);\n        });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/services/bulk.service.js"],"sourceRoot":""}